gsap.registerPlugin(ScrollTrigger,ScrollSmoother),document.querySelector(".page-wrapper")&&window.innerWidth>=991&&ScrollSmoother.create({smooth:.6,effects:!0,ignoreMobileResize:!0,preventDefault:!0});const mobileMenu=gsap.timeline({paused:!0});let originalBackgroundColor,originalTextColor;function openNav(){let e=document.getElementById("nav-is");originalBackgroundColor=e.style.backgroundColor,originalTextColor=e.style.color,animateOpenNav();let t=document.getElementById("m-toggle");t.onclick=function(o){t.classList.toggle("active"),mobileMenu.reversed(!mobileMenu.reversed()),mobileMenu.reversed()&&(e.style.backgroundColor=originalBackgroundColor,e.style.color=originalTextColor)}}function animateOpenNav(){mobileMenu.to("#nav-container",.2,{autoAlpha:1,ease:"power4.inOut"},"0"),mobileMenu.to("#cr-nav-logo",.5,{opacity:0,ease:"power4.inOut"},"0"),mobileMenu.to(".ch-menu-logo",.5,{opacity:1,ease:"power4.inOut"},"0.2"),mobileMenu.from(".is-in-f > div",.85,{opacity:0,y:10,stagger:{amount:.04},ease:"power4.inOut"},".2"),mobileMenu.from(".nav-li > a",.85,{yPercent:100,ease:"power4.inOut",stagger:{amount:.2}},".3").reverse()}if(openNav(),$("[dark-mode]").each(function(e){ScrollTrigger.create({trigger:$(this),start:"top 2%",end:"bottom 2%",onEnter(){$(".navbar").addClass("dark-m"),$(".navbar").removeClass("light-m top-b top-m")},onEnterBack(){$(".navbar").addClass("dark-m"),$(".navbar").removeClass("light-m top-b top-m")}})}),$("[light-mode]").each(function(e){ScrollTrigger.create({trigger:$(this),start:"top 2%",end:"bottom 2%",onEnter(){$(".navbar").addClass("light-m"),$(".navbar").removeClass("dark-m top-b top-m")},onEnterBack(){$(".navbar").addClass("light-m"),$(".navbar").removeClass("dark-m top-b top-m")}})}),$("[is--top]").each(function(e){ScrollTrigger.create({trigger:$(this),start:"top 2%",end:"bottom 2%",onEnter(){$(".navbar").addClass("top-m"),$(".navbar").removeClass("dark-m top-b light-m")},onEnterBack(){$(".navbar").addClass("top-m"),$(".navbar").removeClass("dark-m top-b light-m")}})}),$("[top-b]").each(function(e){ScrollTrigger.create({trigger:$(this),start:"top 2%",end:"bottom 2%",onEnter(){$(".navbar").addClass("top-b"),$(".navbar").removeClass("dark-m top-m light-m")},onEnterBack(){$(".navbar").addClass("top-b"),$(".navbar").removeClass("dark-m top-m light-m")}})}),window.addEventListener("DOMContentLoaded",e=>{function t(e,t){ScrollTrigger.create({trigger:e,start:"top 70%",onEnter:()=>t.play()})}new SplitType(".is-split",{types:"lines",tagName:"span"}),$(".fade-in").each(function(e){let o=gsap.timeline({paused:!0});o.from($(this).find(".line"),{opacity:0,yPercent:100,duration:1,ease:"power2.out",stagger:{amount:.3}}),t($(this),o)}),gsap.set(".is-split",{opacity:1})}),$(".sp-img").each(function(e){let t=$(this),o=$(this).find("img");gsap.timeline({scrollTrigger:{trigger:t,start:"top bottom",end:"bottom+=100vh bottom",scrub:0}}).fromTo(o,{y:"-30%",duration:1},{y:"30%",duration:1})}),window.innerWidth>=991){let e=gsap.from("#nav-is",{yPercent:-100,paused:!0,duration:.8}).progress(1);ScrollTrigger.create({start:"top top",end:99999,onUpdate(t){-1===t.direction?e.play():e.reverse()}})}$(".projects_link").each(function(e){let t=$(".popup_item").eq(e),o=$(this).find(".projects_img"),n=t.find(".projects_img");o.attr("data-flip-id",e),n.attr("data-flip-id",e),gsap.set(t.find(".popup_heading"),{yPercent:-102});let a=gsap.timeline({paused:!0,onStart(){smoother.paused(!0)},onReverseComplete(){smoother.paused(!1)},defaults:{duration:.7,ease:"power1.inOut"}}).to($(this).find(".projects_heading"),{yPercent:100}).to($(this).find(".projects_p"),{yPercent:100,opacity:0},"<").to($(this).parent().siblings(),{opacity:0,duration:.5},"<").to(t.find(".popup_heading"),{yPercent:0}).from(t.find(".popup_p"),{yPercent:100,opacity:0},"<");function i(){$("body").toggleClass("popup-open"),t.toggleClass("current"),o.toggleClass("current")}$(this).on("click",function(){let e=Flip.getState(o,{props:"backgroundPosition"});i(),Flip.from(e,{targets:n,duration:1,absolute:!0,toggleClass:"flipping",ease:"power1.inOut"}),a.restart()}),t.find(".cccc.is-popup").on("click",function(){let e=Flip.getState(n,{props:"backgroundPosition"});i(),Flip.from(e,{targets:o,duration:1,absolute:!0,toggleClass:"flipping",ease:"power1.inOut"}),a.reverse()}),gsap.timeline({scrollTrigger:{trigger:$(this),scrub:!0},defaults:{ease:"none"}}).fromTo($(this).find(".projects_img"),{backgroundPosition:"50% 100%"},{backgroundPosition:"50% 0%"}).fromTo($(this).find(".projects_content-wrap"),{yPercent:50},{yPercent:-50},0)}),$("[js-vimeo-element='component']").each(function(e){let t=$(this),o=$(this).find("[js-vimeo-element='cover']"),n=$(".popup_item").eq(e).find("iframe"),a=$(".cccc.is-popup");n.attr("preload","auto");let i=new Vimeo.Player(n[0]);i.on("bufferstart",function(){let e=$("[js-vimeo-element='component'].is-playing").not(t).find(" [js-vimeo-element='cover']");e.length&&e[0].click(),t.addClass("is-playing")}),i.on("play",function(){let e=$("[js-vimeo-element='component'].is-playing").not(t).find(" [js-vimeo-element='cover']");e.length&&e[0].click(),t.addClass("is-playing")}),i.on("pause",function(){t.removeClass("is-playing")}),a.on("click",function(){i.pause()}),o.on("click",function(){t.hasClass("is-playing")?i.pause():i.play()})});